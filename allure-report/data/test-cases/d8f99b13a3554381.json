{"uid":"d8f99b13a3554381","name":"下单功能数据驱动测试","fullName":"test_cases.test_order_flow.TestOrderFlow#test_create_order_data_driven","historyId":"e1c5a15fffe91e7b7e3fd1aaa0bfb66c","time":{"start":1758343336432,"stop":1758343336441,"duration":9},"description":"数据驱动测试示例","descriptionHtml":"<p>数据驱动测试示例</p>\n","status":"broken","statusMessage":"Exception: 下单失败: {\n  \"code\": 404, \n  \"msg\": \"\\u5546\\u54c1\\u4e0d\\u5b58\\u5728\"\n}","statusTrace":"self = <test_order_flow.TestOrderFlow object at 0x7fe4d87b7e10>\ncase_data = {'expected': 'should_fail', 'item_id': 999, 'password': 'test123456', 'quantity': 1, ...}\n\n    @allure.story(\"数据驱动测试\")\n    @allure.title(\"下单功能数据驱动测试\")\n    @pytest.mark.parametrize(\"case_data\", load_test_data(\"order_cases\"))\n    def test_create_order_data_driven(self, case_data):\n        \"\"\"数据驱动测试示例\"\"\"\n        result = self.order_business.create_order_flow(\n            case_data[\"username\"],\n            case_data[\"password\"],\n            case_data[\"item_id\"],\n>           case_data[\"quantity\"]\n        )\n\ntest_cases/test_order_flow.py:55: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <business.order_business.OrderBusiness object at 0x7fe4dab980b8>, username = 'test_user', password = 'test123456', item_id = 999, quantity = 1\n\n    def create_order_flow(self, username, password, item_id, quantity=1):\n        \"\"\"\n        完整的下单业务流程：登录 -> 创建订单\n        :return: 订单ID\n        \"\"\"\n        # 1. 登录获取session\n        session = self.login_and_get_session(username, password)\n    \n        # 2. 创建订单\n        order_api = OrderApi()\n        response = order_api.create_order(session, item_id, quantity)\n    \n        if response.status_code != 200:\n>           raise Exception(f\"下单失败: {response.text}\")\nE           Exception: 下单失败: {\nE             \"code\": 404, \nE             \"msg\": \"\\u5546\\u54c1\\u4e0d\\u5b58\\u5728\"\nE           }\n\nbusiness/order_business.py:51: Exception","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setup","time":{"start":1758343336432,"stop":1758343336432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"setup::0","time":{"start":1758343336474,"stop":1758343336474,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"stepsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"数据驱动测试"},{"name":"feature","value":"订单流程"},{"name":"epic","value":"电商平台"},{"name":"parentSuite","value":"test_cases"},{"name":"suite","value":"test_order_flow"},{"name":"subSuite","value":"TestOrderFlow"},{"name":"host","value":"iZ2ze32pafdbs32qn8pvbwZ"},{"name":"thread","value":"9979-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"test_cases.test_order_flow"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"case_data","value":"{'username': 'test_user', 'password': 'test123456', 'item_id': 999, 'quantity': 1, 'expected': 'should_fail'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"d8f99b13a3554381.json","parameterValues":["{'username': 'test_user', 'password': 'test123456', 'item_id': 999, 'quantity': 1, 'expected': 'should_fail'}"]}